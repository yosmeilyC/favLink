{"ast":null,"code":"import _toConsumableArray from\"C:/Users/yosme/Documents/LEHMAN/Spring2023/cmp464/favlinks-fsw/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/yosme/Documents/LEHMAN/Spring2023/cmp464/favlinks-fsw/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/yosme/Documents/LEHMAN/Spring2023/cmp464/favlinks-fsw/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\yosme\\\\Documents\\\\LEHMAN\\\\Spring2023\\\\cmp464\\\\favlinks-fsw\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from'react';import LinkContainer from'./components/LinkContainer';import{jsx as _jsx}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),links=_useState2[0],setLinks=_useState2[1];useEffect(function(){// Fetch initial data when the component mounts\ngetLinks();},[]);var getLinks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/api/links');case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setLinks(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getLinks(){return _ref.apply(this,arguments);};}();var createLink=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(newLink){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch('/api/links',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newLink)});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;setLinks([].concat(_toConsumableArray(links),[data]));// Update state with the new link\n_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function createLink(_x){return _ref2.apply(this,arguments);};}();var deleteLink=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(linkId){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"/api/links/\".concat(linkId),{method:'DELETE'});case 3:setLinks(links.filter(function(link){return link.id!==linkId;}));// Remove the deleted link from state\n_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);console.error(_context3.t0);case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function deleteLink(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(LinkContainer,{})});}export default App;","map":{"version":3,"sources":["C:/Users/yosme/Documents/LEHMAN/Spring2023/cmp464/favlinks-fsw/client/src/App.js"],"names":["React","LinkContainer","App","useState","links","setLinks","useEffect","getLinks","fetch","response","json","data","console","error","createLink","newLink","method","headers","body","JSON","stringify","deleteLink","linkId","filter","link","id"],"mappings":"ooBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,C,2CAEA,QAASC,CAAAA,GAAT,EAAe,CAEb,cAA0BC,QAAQ,CAAC,EAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eAGAC,SAAS,CAAC,UAAM,CACd;AACAC,QAAQ,GACT,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAMA,CAAAA,QAAQ,0FAAG,2LAEUC,CAAAA,KAAK,CAAC,YAAD,CAFf,QAEPC,QAFO,qCAGMA,CAAAA,QAAQ,CAACC,IAAT,EAHN,QAGPC,IAHO,eAIbN,QAAQ,CAACM,IAAD,CAAR,CAJa,iFAMbC,OAAO,CAACC,KAAR,cANa,qEAAH,kBAARN,CAAAA,QAAQ,0CAAd,CAUA,GAAMO,CAAAA,UAAU,2FAAG,kBAAOC,OAAP,gLAEQP,CAAAA,KAAK,CAAC,YAAD,CAAe,CACzCQ,MAAM,CAAE,MADiC,CAEzCC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFgC,CAKzCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeL,OAAf,CALmC,CAAf,CAFb,QAETN,QAFS,uCASIA,CAAAA,QAAQ,CAACC,IAAT,EATJ,QASTC,IATS,gBAUfN,QAAQ,8BAAKD,KAAL,GAAYO,IAAZ,GAAR,CAA4B;AAVb,qFAYfC,OAAO,CAACC,KAAR,eAZe,uEAAH,kBAAVC,CAAAA,UAAU,6CAAhB,CAgBA,GAAMO,CAAAA,UAAU,2FAAG,kBAAOC,MAAP,8JAETd,CAAAA,KAAK,sBAAec,MAAf,EAAyB,CAClCN,MAAM,CAAE,QAD0B,CAAzB,CAFI,QAKfX,QAAQ,CAACD,KAAK,CAACmB,MAAN,CAAa,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,EAAL,GAAYH,MAAtB,EAAb,CAAD,CAAR,CAAsD;AALvC,kFAOfV,OAAO,CAACC,KAAR,eAPe,qEAAH,kBAAVQ,CAAAA,UAAU,8CAAhB,CAUA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,KAAC,aAAD,IADF,EADF,CAKD,CAED,cAAenB,CAAAA,GAAf","sourcesContent":["import React from 'react'\r\nimport LinkContainer from './components/LinkContainer'\r\n\r\nfunction App() {\r\n\r\n  const [links, setLinks] = useState([]);\r\n\r\n\r\n  useEffect(() => {\r\n    // Fetch initial data when the component mounts\r\n    getLinks();\r\n  }, []);\r\n\r\n  const getLinks = async () => {\r\n    try {\r\n      const response = await fetch('/api/links');\r\n      const data = await response.json();\r\n      setLinks(data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const createLink = async (newLink) => {\r\n    try {\r\n      const response = await fetch('/api/links', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(newLink),\r\n      });\r\n      const data = await response.json();\r\n      setLinks([...links, data]); // Update state with the new link\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const deleteLink = async (linkId) => {\r\n    try {\r\n      await fetch(`/api/links/${linkId}`, {\r\n        method: 'DELETE',\r\n      });\r\n      setLinks(links.filter((link) => link.id !== linkId)); // Remove the deleted link from state\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"App\">\r\n      <LinkContainer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n"]},"metadata":{},"sourceType":"module"}